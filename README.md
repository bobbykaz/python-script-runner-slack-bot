# Dev-Script-Runner Python Slack Bot.
Do you have a bunch of one-off python scripts you've written to help with your day-to-day dev work? Maybe a couple basic test scripts, something that sets up test data for you or your coworkers in staging, production triage, or just making a few reports? This might help you (especially if your coworkers ask you to run this stuff for them).

This is a simple slackbot designed to run all those misc one-off Python scripts you wrote. Not meant to run in actual production, but good enough to handle the load generated by you and a handful of coworkers. Runs jobs one-at-a-time with a simple, bootleg background queue. No need to set up redis or a distributed task queue or deploy a bunch of components - its just one Docker container.

Features:
* everything you need in one container (well, you still need an ingress into it)
* easy to run locally (as a server, or just running the tasks)
* stdout is copied to a slack thread per job
* easy to add new scripts in

Setting up the slack app:
1. new app in slack
2. In the Oauth Permissions Section, add `chat:write` scope, save token
3. Basic info, save signing secret
4. Notifications - add `/slack/events` route, let the app verify
5. Commands - add `/slack/events` route for ALL slash commands
6. Interactivity - add `/slack/events` route to both the UI interactivity AND the External UI options on this page.

Adding your scripts:
1. Add scripts anywhere you like
2. edit the `jobs/processor` `run_job_internal` function to add in your script's shortname 
3. Add a new command or other mechanism to trigger the job - the simplest is a new slash command that just queues the job, no modal or ui needed.

Running the server:
`flask --app app run -p 80`

Just running a job locally:
`python local.py [job shortname] [job args...]`

Examples:
https://github.com/slackapi/bolt-python/tree/main/examples